# Application Configuration
spring.application.name=code-validation-service
server.port=8005

# Server Configuration
server.servlet.context-path=/
server.compression.enabled=true
server.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json
server.compression.min-response-size=1024

# Logging Configuration
logging.level.com.alphintra.validation=INFO
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.web=DEBUG
logging.pattern.console=%clr(%d{HH:mm:ss.SSS}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}
logging.pattern.file=%d{ISO8601} [%thread] %-5level %logger{36} - %msg%n

# Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=when-authorized
management.metrics.export.prometheus.enabled=true

# Jackson Configuration
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.serialization.indent-output=true
spring.jackson.default-property-inclusion=NON_NULL

# Validation Configuration
spring.mvc.throw-exception-if-no-handler-found=true
spring.web.resources.add-mappings=false

# Security Configuration
spring.security.user.name=admin
spring.security.user.password=${ADMIN_PASSWORD:admin123}
spring.security.user.roles=ADMIN

# Async Configuration
spring.task.execution.pool.core-size=2
spring.task.execution.pool.max-size=10
spring.task.execution.pool.queue-capacity=100
spring.task.execution.thread-name-prefix=validation-task-

# File Upload Configuration
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# Performance Test Configuration
validation.performance.max-execution-time-seconds=300
validation.performance.max-memory-mb=1024
validation.performance.default-test-duration-seconds=60
validation.performance.cleanup-interval-minutes=60

# Security Scan Configuration
validation.security.scan-timeout-seconds=120
validation.security.max-code-size-mb=5
validation.security.enable-deep-scan=true
validation.security.report-all-issues=false

# Code Validation Configuration
validation.code.python-executable=python3
validation.code.temp-directory=${java.io.tmpdir}/code-validation
validation.code.max-lines=10000
validation.code.timeout-seconds=30

# Model Validation Configuration
validation.model.max-file-size-mb=100
validation.model.supported-formats=pkl,joblib,h5,onnx
validation.model.validation-timeout-seconds=180

# Cache Configuration
spring.cache.type=simple
spring.cache.cache-names=security-scans,performance-tests,validation-results

# CORS Configuration
validation.cors.allowed-origins=http://localhost:3000,https://alphintra.com
validation.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
validation.cors.allowed-headers=*
validation.cors.allow-credentials=true

# Rate Limiting Configuration
validation.rate-limit.requests-per-minute=60
validation.rate-limit.burst-capacity=10
validation.rate-limit.enabled=true

# External Services Configuration
external.python-service.url=${PYTHON_SERVICE_URL:http://localhost:8006}
external.python-service.timeout-seconds=30
external.ml-service.url=${ML_SERVICE_URL:http://localhost:8007}
external.ml-service.timeout-seconds=60

# Health Check Configuration
management.health.custom.enabled=true
management.health.custom.timeout=5s

# Environment-specific overrides
---
spring.config.activate.on-profile=development
logging.level.com.alphintra.validation=DEBUG
validation.security.enable-deep-scan=false
spring.security.user.password=dev123

---
spring.config.activate.on-profile=testing
spring.security.user.password=test123
validation.performance.max-execution-time-seconds=60
validation.security.scan-timeout-seconds=30

---
spring.config.activate.on-profile=production
logging.level.com.alphintra.validation=WARN
validation.performance.max-execution-time-seconds=600
validation.security.enable-deep-scan=true
spring.security.user.password=${ADMIN_PASSWORD}
management.endpoint.health.show-details=never