# Environment Configuration for Strategy Inference Service
# Copy this file to .env and fill in your actual values

# ==============================
# Service Configuration
# ==============================
DEBUG=true
LOG_LEVEL=INFO
SERVICE_PORT=8002

# ==============================
# Database Connections
# ==============================
# AI/ML Strategy Service Database
AI_ML_DATABASE_URL=postgresql://alphintra:alphintra@localhost:5432/alphintra_ai_ml

# No-Code Service Database  
NO_CODE_DATABASE_URL=postgresql://alphintra:alphintra@localhost:5432/alphintra_nocode

# ==============================
# Message Queue and Caching
# ==============================
# Redis for caching and pub/sub
REDIS_URL=redis://localhost:6379

# Kafka for event streaming
KAFKA_BOOTSTRAP_SERVERS=localhost:9092

# ==============================
# Market Data API Keys
# ==============================
# Polygon.io (for US stocks and crypto)
POLYGON_API_KEY=your_polygon_api_key_here

# Alpha Vantage (for stocks and forex)  
ALPHA_VANTAGE_API_KEY=your_alpha_vantage_api_key_here

# IEX Cloud (for US stocks)
IEX_CLOUD_API_KEY=your_iex_cloud_api_key_here

# ==============================
# Security and Authentication
# ==============================
# JWT secret for API authentication (if needed)
JWT_SECRET_KEY=your_jwt_secret_key_here

# API rate limiting
RATE_LIMIT_PER_MINUTE=1000

# ==============================
# Performance Tuning
# ==============================
# Maximum concurrent strategies
MAX_CONCURRENT_STRATEGIES=10

# Strategy execution timeout (seconds)
STRATEGY_EXECUTION_TIMEOUT=30

# Signal cooldown period (seconds)
SIGNAL_COOLDOWN_SECONDS=60

# Cache TTL (seconds)
CACHE_TTL_SECONDS=300

# ==============================
# Monitoring and Observability
# ==============================
# Enable Prometheus metrics endpoint
ENABLE_METRICS=true

# Enable structured logging
STRUCTURED_LOGGING=true

# Log file path (optional)
LOG_FILE_PATH=/app/logs/inference-service.log

# ==============================
# Development Settings
# ==============================
# Enable test endpoints
ENABLE_TEST_ENDPOINTS=true

# Mock market data for testing
USE_MOCK_MARKET_DATA=false

# Enable detailed error responses
DETAILED_ERRORS=true

# ==============================
# Resource Limits
# ==============================
# Maximum memory usage per strategy (MB)
MAX_STRATEGY_MEMORY_MB=256

# Maximum execution time per strategy (seconds)  
MAX_STRATEGY_EXECUTION_TIME=30

# Maximum cache size (number of items)
MAX_CACHE_SIZE=1000

# ==============================
# WebSocket Configuration
# ==============================
# Maximum WebSocket connections
MAX_WEBSOCKET_CONNECTIONS=1000

# WebSocket ping interval (seconds)
WEBSOCKET_PING_INTERVAL=30

# WebSocket message size limit (bytes)
WEBSOCKET_MAX_MESSAGE_SIZE=1048576

# ==============================
# Backup and Recovery
# ==============================
# Strategy backup directory
STRATEGY_BACKUP_DIR=/app/backups

# Enable automatic backups
AUTO_BACKUP_ENABLED=false

# Backup retention days
BACKUP_RETENTION_DAYS=30